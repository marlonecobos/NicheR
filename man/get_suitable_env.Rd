% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_suitable_env.R
\name{get_suitable_env}
\alias{get_suitable_env}
\title{Extract Suitable Environmental Area from a Niche Ellipsoid}
\usage{
get_suitable_env(
  niche,
  env_bg,
  out = c("data.frame", "spatial", "both"),
  distances = FALSE
)
}
\arguments{
\item{niche}{An object of class `ellipsoid` created by `build_ellipsoid()`.}

\item{env_bg}{A `terra::SpatRaster`, `data.frame`, or `matrix` of
environmental predictor variables. It must contain the variables
referenced by the `niche` object.}

\item{out}{A character string specifying the desired output format. Can be
`"data.frame"`, `"spatial"`, or `"both"`.
\itemize{
  \item `"data.frame"`: Returns a data frame of all suitable points.
  \item `"spatial"`: Returns a `terra::SpatRaster` where suitable cells
    are marked with 1 and unsuitable with 0. Requires `env_bg` to be a
    `terra::SpatRaster`.
  \item `"both"`: Returns a list containing both the spatial raster and
    the data frame of suitable points.
}}

\item{distances}{Logical; if `TRUE`, an additional column named `dist_sq`
is added to the output data frame containing the squared Mahalanobis
distance for each suitable point.}
}
\value{
The suitable environmental area in the specified format, which can be
  a `data.frame`, a `terra::SpatRaster`, or a list containing both.
}
\description{
This function identifies and extracts all environmental grid cells or data
points that fall within a defined ellipsoid niche based on Mahalanobis distance.
}
\details{
The function converts `env_bg` to a data frame, calculates the
  squared Mahalanobis distance for each point, and then filters for points
  where this distance is less than or equal to 1. This method efficiently
  identifies all locations within the niche's boundary.
}
\seealso{
[build_ellipsoid()], [get_sample_occ()]
}
